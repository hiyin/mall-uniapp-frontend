(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order-order"],{"033e":function(e,t,i){"use strict";var a,s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.show?i("v-uni-view",[i("v-uni-view",{staticStyle:{height:"20rpx"}}),1==e.addressFlag?i("v-uni-view",{staticClass:"address"},[i("v-uni-view",{staticClass:"addressBox",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.listAddress.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"addressIcon"},[i("i",{staticClass:"iconfont"},[e._v("")])]),e.address?i("v-uni-view",{staticClass:"addressContent"},[i("v-uni-view",{staticClass:"addressUser"},[e._v("收货人："+e._s(e.address.username)+" "+e._s(e.address.telphone))]),i("v-uni-view",{staticClass:"addressInfo"},[e._v(e._s(e.address.city)+" （"+e._s(e.address.address)+"）")])],1):e._e(),i("v-uni-view",{staticClass:"addressMore"},[i("i",{staticClass:"iconfont"},[e._v("")])])],1),i("v-uni-view",{staticClass:"addressLine"})],1):i("v-uni-view",{staticClass:"addressEmpty",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.addAddress.apply(void 0,arguments)}}},[e._v("+暂无收货地址，请添加")]),i("v-uni-view",{staticClass:"shoplist"},e._l(e.shop,(function(t,a){return i("v-uni-view",{key:a,staticClass:"shopItem"},[i("v-uni-view",{staticClass:"shopItemLeft"},[i("v-uni-image",{attrs:{src:e.imgUrl+t.mainimage,mode:""}})],1),i("v-uni-view",{staticClass:"shopItemRight"},[i("v-uni-view",{staticClass:"shopTitle"},[e._v(e._s(t.title))]),i("v-uni-view",{staticClass:"shopAttr"},[e._v(e._s(t.attr_0)+"，"+e._s(t.attr_1))]),i("v-uni-view",{staticClass:"shopPrice"},[i("v-uni-text",[e._v("$"+e._s(t.price))]),i("v-uni-text",{staticClass:"qty"},[e._v("x"+e._s(t.num))])],1)],1)],1)})),1),i("v-uni-view",{staticClass:"orderPrice"},[i("v-uni-view",{staticClass:"orderPriceItem"},[i("v-uni-view",{staticClass:"orderPriceItemTitle"},[e._v("应付金额")]),i("v-uni-view",{staticClass:"orderPriceItemPrice"},[e._v("$"+e._s(e.total.price))])],1),i("v-uni-view",{staticClass:"orderPriceItem"},[i("v-uni-view",{staticClass:"orderPriceItemTitle"},[e._v("配送方式")]),i("v-uni-view",{staticClass:"orderPriceItemPrice"},[i("v-uni-picker",{attrs:{value:e.index,range:e.array,"range-key":"name"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.delivery.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"uni-input"},[e._v(e._s(e.array[e.index].name))])],1),i("i",{staticClass:"iconfont"},[e._v("")])],1)],1),i("v-uni-view",{staticClass:"orderMessage"},[i("v-uni-input",{attrs:{type:"text",placeholder:"请留言"},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}})],1),i("v-uni-view",{staticClass:"orderPriceItem"},[i("v-uni-view",{staticClass:"orderPriceItemTitle"},[e._v("总计")]),i("v-uni-view",{staticClass:"orderPriceItemPrice"},[e._v("合计"+e._s(e.total.num)+"件商品，总共$"+e._s(e._f("toFixed")(e.endPrice)))])],1)],1),i("v-uni-view",{staticStyle:{height:"100rpx"}}),i("v-uni-view",{staticClass:"orderBottom"},[i("v-uni-text",{staticClass:"totalPrice"},[e._v("总计：$"+e._s(e._f("toFixed")(e.endPrice)))]),i("v-uni-view",{staticClass:"orderBottomBtn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.payBtn.apply(void 0,arguments)}}},[e._v("立即购买")])],1)],1):e._e()},n=[];i.d(t,"b",(function(){return s})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return a}))},"12bc":function(e,t,i){"use strict";i.r(t);var a=i("664d"),s=i.n(a);for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);t["default"]=s.a},"664d":function(e,t,i){"use strict";i("99af"),i("b680"),i("acd8"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={data:function(){return{array:[{name:"请选择配送方式"}],index:0,shop:[],total:{},address:{},addressFlag:"",endPrice:"",message:"",show:!1,imgUrl:this.$imgUrl}},onLoad:function(){this.getData()},onShow:function(){this.getAddress()},filters:{toFixed:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return parseFloat(e).toFixed(t)}},methods:{listAddress:function(){this.$href("../address/list?back=1")},addAddress:function(){this.$href("../address/add?back=1")},getAddress:function(){var e=this;this.$request("/member/getOrderAddress",{id:uni.getStorageSync("addressid")}).then((function(t){console.log(t),uni.getStorageSync("addressid",t.data.id),e.address=t.data,e.addressFlag=t.code}))},getData:function(){var e=this;this.$request("/member/getBuyShopInfo",{data:uni.getStorageSync("orderShop")}).then((function(t){console.log(t),e.shop=t.data.shop,e.total=t.data.all,e.array=e.array.concat(t.data.logistics),e.endPrice=t.data.all.price,e.show=!0}))},delivery:function(e){this.index=e.target.value,0!=this.index?this.endPrice=parseFloat(this.total.price)+parseFloat(this.array[this.index].price):this.endPrice=this.total.price},payBtn:function(){var e=this;0!=this.index?""!=uni.getStorageSync("addressid")?(console.log(this.array[this.index].id),this.$request("/member/order",{orderShop:uni.getStorageSync("orderShop"),addressid:uni.getStorageSync("addressid"),price:this.endPrice,logistics:this.array[this.index].id,message:this.message}).then((function(t){1==t.code&&e.$href("pay?id="+t.data.id)}))):uni.showToast({title:"请先添加收货地址",icon:"none"}):uni.showToast({title:"请选择配送方式",icon:"none"})}}};t.default=a},"7b8b":function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,".addressEmpty[data-v-b0f6b542]{width:%?695?%;height:%?85?%;background:#fff;border-radius:%?10?%;margin:%?0?% auto 0;font-size:%?28?%;color:#00c3f5;text-align:center;line-height:%?85?%}.orderBottom[data-v-b0f6b542]{position:fixed;bottom:0;z-index:9;background:#fff;height:%?100?%;width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.totalPrice[data-v-b0f6b542]{margin-left:%?30?%;font-size:%?28?%;color:#000}.orderBottomBtn[data-v-b0f6b542]{background:#00c3f5;width:%?300?%;height:%?100?%;color:#fff;font-size:%?28?%;line-height:%?100?%;text-align:center}.orderPrice[data-v-b0f6b542]{width:%?695?%;background:#fff;margin:%?20?% auto;padding:%?25?% 0;height:auto;overflow:hidden;border-radius:%?10?%}.orderPriceItem[data-v-b0f6b542]{display:-webkit-box;display:-webkit-flex;display:flex;height:%?80?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;font-size:%?28?%;padding:0 %?20?%}.orderPriceItemPrice[data-v-b0f6b542]{color:#999;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.orderPriceItemPrice i[data-v-b0f6b542]{font-size:%?32?%;line-height:%?80?%}.orderMessage[data-v-b0f6b542]{background:#f4f4f4;height:%?70?%;margin:0 %?20?%;border-radius:%?70?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.orderMessage uni-input[data-v-b0f6b542]{font-size:%?28?%;margin-left:%?30?%}uni-page-body[data-v-b0f6b542]{background:#f4f4f4}.address[data-v-b0f6b542]{position:relative;width:%?695?%;height:%?200?%;margin:0 auto;border-radius:%?10?%;overflow:hidden}.addressBox[data-v-b0f6b542]{width:%?695?%;height:%?200?%;background:#fff;margin:0 auto;border-radius:%?10?%;display:-webkit-box;display:-webkit-flex;display:flex}.addressIcon[data-v-b0f6b542]{width:%?100?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;line-height:%?90?%}.addressContent[data-v-b0f6b542]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.addressContent .addressUser[data-v-b0f6b542]{font-size:%?28?%;color:#000;line-height:%?70?%;padding-top:%?10?%}.addressContent .addressInfo[data-v-b0f6b542]{color:#999;font-size:%?24?%}.addressMore[data-v-b0f6b542]{width:%?100?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.addressLine[data-v-b0f6b542]{height:%?8?%;background-image:-webkit-linear-gradient(315deg,#82c9ff 8px,transparent 0,transparent 16px,#ff8282 0,#ff8282 32px,transparent 0,transparent 0,transparent 40px,#82c9ff 0,#82c9ff);background-image:linear-gradient(135deg,#82c9ff 8px,transparent 0,transparent 16px,#ff8282 0,#ff8282 32px,transparent 0,transparent 0,transparent 40px,#82c9ff 0,#82c9ff);background-color:#fff;background-size:%?136?% %?8?%;width:100%;position:absolute;bottom:0}.shoplist[data-v-b0f6b542]{width:%?695?%;background:#fff;margin:%?20?% auto 0;border-radius:%?10?%}.shoplist .shopItem[data-v-b0f6b542]{display:-webkit-box;display:-webkit-flex;display:flex;padding:%?10?% %?0?%;margin:0 %?20?%;border-top:%?1?% solid #e5e5e5}.shoplist .shopItem[data-v-b0f6b542]:nth-of-type(1){border:none}.shopItem .shopItemLeft uni-image[data-v-b0f6b542]{width:%?200?%;height:%?200?%}.shopItem .shopItemRight .shopTitle[data-v-b0f6b542]{font-size:%?28?%;line-height:%?40?%;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.shopItem .shopItemRight .shopAttr[data-v-b0f6b542]{line-height:%?40?%;font-size:%?24?%;color:#999}.shopItem .shopItemRight .shopPrice[data-v-b0f6b542]{font-size:%?28?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;line-height:%?80?%;color:red}.shopItem .shopItemRight .shopPrice .qty[data-v-b0f6b542]{color:#999}body.?%PAGE?%[data-v-b0f6b542]{background:#f4f4f4}",""]),e.exports=t},a172:function(e,t,i){"use strict";i.r(t);var a=i("033e"),s=i("12bc");for(var n in s)"default"!==n&&function(e){i.d(t,e,(function(){return s[e]}))}(n);i("a374");var r,d=i("f0c5"),o=Object(d["a"])(s["default"],a["b"],a["c"],!1,null,"b0f6b542",null,!1,a["a"],r);t["default"]=o.exports},a374:function(e,t,i){"use strict";var a=i("d67d"),s=i.n(a);s.a},d67d:function(e,t,i){var a=i("7b8b");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var s=i("4f06").default;s("2569e695",a,!0,{sourceMap:!1,shadowMode:!1})}}]);